<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
        <ion-title>New Recipe Form</ion-title>
    </ion-navbar>
</ion-header>


<ion-content padding>
    <h3>Add Recipe Details</h3>
    <form [formGroup]="myForm" novalidate (ngSubmit)="save(myForm)">
        <div class="form-group">
            <ion-label>Recipe Name</ion-label>
            <ion-input type="text" formControlName="name"></ion-input>
        </div>

        <h4>Add Ingredients</h4>

        <!-- list of addresses -->
        <div formArrayName="addresses">
            <ion-list inset *ngFor="let address of myForm.controls.addresses.controls; let i=index">
                <!-- address header, show remove button when more than one address available -->
                <!--<div>
                    <span>{{i + 1}}</span>
                    <span *ngIf="myForm.controls.addresses.controls.length > 1" (click)="removeAddress(i)"></span>
                </div>-->

                <!-- Angular assigns array index as group name by default 0, 1, 2, ... -->

                <div [formGroupName]="i">
                    <div>
                        <ion-input type="text" formControlName="postcode" placeholder="ingredient name"></ion-input>
                    </div>
                </div>
            </ion-list>
        </div>



        <div class="margin-20">
            <a (click)="addAddress()" style="cursor: default">
            Add another ingredient +
          </a>
        </div>
        <button type="submit" [disabled]="!myForm.valid">Submit</button>
    </form>



</ion-content>




<!--<form (ngSubmit)="onSubmit()" #recipeForm="ngForm">
        <ion-list>
            <ion-item>
                <ion-label stacked for="title">Recipe Title:</ion-label>
                <ion-input type="text" id="title" required [(ngModel)]="model.title" name="title"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked for="note">Note:</ion-label>
                <ion-input type="text" id="note" [(ngModel)]="model.note" name="note"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked for="category">Category:</ion-label>
                <ion-select id="category" required [(ngModel)]="model.category" name="category">
                    <ion-option *ngFor="let categ of categories" [value]="categ">{{categ}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label stacked for="ingredients">Ingredients:</ion-label>
                <ion-input type="text" id="ingredients" [(ngModel)]="model.ingredients" name="ingredients"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked for="directions">Directions:</ion-label>
                <ion-input type="text" id="directions" [(ngModel)]="model.directions" name="directions"></ion-input>
            </ion-item>
        </ion-list>

        <button ion-button type="button" (click)="recipeForm.reset()">Reset</button>

        <button ion-button type="submit">Submit</button>
    </form>-->